:root{
  --bg0:#0b0e12;
  --bg1:#11151b;

  /* スクショ寄せ：文字は真っ白じゃなくて少しグレー */
  --ink:#dfe6f1;
  --muted:#9aa6b8;
  --muted2:#7f8a9a;

  --line:#2a323f;
  --line2:#3a4658;

  --accent:#d7b46a;
  --accent2:#c86d4a;

  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --sans: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", "Hiragino Sans", "Yu Gothic", sans-serif;
}

/* スクロールさせない（“画面”として固定） */
html,body{
  height:100%;
  margin:0;
  overflow:hidden;
  background:#05070a;
  color:var(--ink);
  font-family:var(--sans);
}

/* ---------- 横画面固定（縦持ちでも強制的に横UIを見せる） ---------- */
/* landscapeLock: 縦のときだけ回転する箱 */
.landscapeLock{
  width:100vw;
  height:100vh;
}

/* 縦持ちの時：中身を90度回転させて横UIとして表示 */
@media (orientation: portrait){
  .landscapeLock{
    width:100vh;        /* 回転後の横幅 */
    height:100vw;       /* 回転後の縦 */
    position:absolute;
    left:0; top:100%;
    transform-origin: top left;
    transform: rotate(-90deg);
  }
  .rotateHint{ opacity:1; pointer-events:auto; }
}

/* 横の時はヒントを消す */
@media (orientation: landscape){
  .rotateHint{ opacity:0; pointer-events:none; }
}

/* 縦持ちヒント */
.rotateHint{
  position:fixed; inset:0;
  display:grid; place-items:center;
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
  opacity:0;
  transition: opacity .2s ease;
  z-index:9999;
}
.rotateHintBox{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(10,12,16,.55);
  border-radius: 16px;
  padding: 18px 18px 14px;
  text-align:center;
  width: min(420px, 86vw);
  box-shadow: 0 20px 60px rgba(0,0,0,.55);
}
.rotateIcon{
  width: 46px; height: 46px;
  margin: 0 auto 10px;
  border:2px solid rgba(215,180,106,.55);
  border-radius: 12px;
  position:relative;
}
.rotateIcon::after{
  content:"";
  position:absolute; inset:10px;
  border:2px solid rgba(232,237,245,.35);
  border-radius: 10px;
  transform: rotate(18deg);
}
.rotateText{ font-weight:700; letter-spacing:.06em; }
.rotateSub{ margin-top:6px; color: rgba(232,237,245,.55); font-size: 12px; }

/* ---------- 画面本体 ---------- */
.stage{
  width:100%;
  height:100%;
  display:grid;
  place-items:center;
  overflow:hidden;
  background:
    radial-gradient(1200px 700px at 35% 30%, rgba(210,120,75,.18), transparent 55%),
    radial-gradient(900px 550px at 70% 40%, rgba(120,170,210,.10), transparent 55%),
    linear-gradient(160deg, var(--bg0), var(--bg1));
}

/* 16:9固定で欠けずに表示 */
.screen{
  width:min(100vw, calc(100vh * (16/9)));
  height:min(100vh, calc(100vw * (9/16)));
  aspect-ratio: 16 / 9;
  position:relative;
  overflow:hidden;
  border-radius: 14px;
  box-shadow: 0 18px 60px rgba(0,0,0,.55);
  background:
    radial-gradient(1200px 700px at 45% 45%, rgba(200,90,60,.22), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(0,0,0,.25)),
    linear-gradient(140deg, rgba(18,22,30,.92), rgba(10,12,16,.92));
}

/* ざらつき */
.screen::before{
  content:"";
  position:absolute; inset:0;
  background:
    repeating-linear-gradient(0deg, rgba(255,255,255,.03) 0 1px, transparent 2px 5px),
    repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 1px, transparent 2px 6px);
  opacity:.06;
  mix-blend-mode: overlay;
  pointer-events:none;
}

/* 薄いグリッド */
.screen::after{
  content:"";
  position:absolute; inset:0;
  background:
    linear-gradient(rgba(215,180,106,.06) 1px, transparent 1px),
    linear-gradient(90deg, rgba(215,180,106,.04) 1px, transparent 1px);
  background-size: 64px 64px;
  opacity:.12;
  pointer-events:none;
}

.left, .center, .right{
  position:absolute;
  top:0; bottom:0;
  padding: 5.2% 4%;
}
.left{ left:0; width:40%; }
.center{ left:35%; width:34%; display:grid; place-items:center; }
.right{ right:0; width:34%; padding-left: 2%; padding-right: 4%; }

/* ---------- 上アイコン列 ---------- */
.top-icons{
  position:absolute;
  top:3.2%;
  left:3.2%;
  display:flex;
  gap: 1.2vw;
  z-index:5;
}
.iconBtn{
  width: 2.2vw;
  height: 2.2vw;
  min-width: 26px;
  min-height: 26px;
  border: 1px solid rgba(223,230,241,.68);
  background: transparent;
  border-radius: 4px;
  opacity:.86;
  position:relative;
}
.iconBtn:hover{ opacity:1; border-color: rgba(215,180,106,.8); }
.iconBtn::before, .iconBtn::after{ content:""; position:absolute; inset:0; margin:auto; }

.iconBtn.tri{ border:none; }
.iconBtn.tri::before{
  width: 0; height:0;
  border-left: 1.1vw solid transparent;
  border-right: 1.1vw solid transparent;
  border-bottom: 1.8vw solid rgba(223,230,241,.76);
  transform: translateY(10%);
}
.iconBtn.sq::before{
  width: 1.2vw; height: 1.2vw;
  border: 2px solid rgba(223,230,241,.76);
  border-radius: 2px;
}
.iconBtn.eye{ border:none; }
.iconBtn.eye::before{
  width: 1.9vw; height:1.2vw;
  border:2px solid rgba(223,230,241,.76);
  border-radius: 999px;
}
.iconBtn.eye::after{
  width: .45vw; height:.45vw;
  background: rgba(223,230,241,.76);
  border-radius:999px;
}
.iconBtn.beaker{ border:none; }
.iconBtn.beaker::before{
  width: 1.2vw; height:1.5vw;
  border:2px solid rgba(223,230,241,.76);
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  clip-path: polygon(0 0, 100% 0, 75% 100%, 25% 100%);
}
.iconBtn.swirl{ border:none; }
.iconBtn.swirl::before{
  width: 1.7vw; height:1.7vw;
  border: 2px solid rgba(223,230,241,.76);
  border-radius:999px;
  clip-path: polygon(0 0, 100% 0, 100% 60%, 0 60%);
}
.iconBtn.lock{ border:none; }
.iconBtn.lock::before{
  width: 1.4vw; height:1.3vw;
  border:2px solid rgba(223,230,241,.76);
  border-radius: 6px;
  transform: translateY(12%);
}
.iconBtn.lock::after{
  width: .9vw; height:.8vw;
  border:2px solid rgba(223,230,241,.76);
  border-bottom: none;
  border-top-left-radius: 999px;
  border-top-right-radius: 999px;
  transform: translateY(-35%);
}
.iconBtn.warn{ border:none; }
.iconBtn.warn::before{
  width: 1.6vw; height:1.6vw;
  border:2px solid rgba(223,230,241,.76);
  transform: rotate(45deg);
}
.iconBtn.warn::after{
  width: .25vw; height:.75vw;
  background: rgba(223,230,241,.76);
  border-radius:999px;
  transform: translateY(-10%);
}

/* 背景文字 */
.bgWord{
  position:absolute;
  top:6%;
  right: 8%;
  font-family: var(--mono);
  letter-spacing: .35em;
  font-size: clamp(18px, 2.1vw, 36px);
  color: rgba(215,180,106,.14);
  transform: skewX(-8deg);
  user-select:none;
  pointer-events:none;
}

/* ---------- 左：属性・星・名前 ---------- */
.affinity{
  width: 11vw;
  max-width: 180px;
  aspect-ratio: 1/1;
  border-radius: 999px;
  position:relative;
  display:grid;
  place-items:center;
  margin-top: 10%;
  margin-left: 6%;
}
.affinity::before{
  content:"";
  position:absolute; inset:0;
  border-radius:999px;
  border: 1px solid rgba(223,230,241,.16);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.35);
  background:
    radial-gradient(circle at 50% 50%, rgba(215,180,106,.10), transparent 55%),
    rgba(0,0,0,.18);
}
.affinity::after{
  content:"";
  position:absolute; inset:-6%;
  border-radius:999px;
  border: 2px dotted rgba(223,230,241,.16);
  opacity:.6;
}
.affinityIcon{
  width: 56%;
  height:auto;
  filter: drop-shadow(0 10px 14px rgba(0,0,0,.55));
  opacity:.96;
}
.affinityLabel{
  position:absolute;
  bottom: 14%;
  font-family: var(--mono);
  letter-spacing:.22em;
  font-size: clamp(10px, 1.0vw, 12px);
  color: rgba(223,230,241,.62);
}

.rarity{
  margin-top: 6%;
  margin-left: 10%;
  color: rgba(223,230,241,.70);
  letter-spacing: .25em;
  font-size: clamp(12px, 1.1vw, 18px);
}
.star{ text-shadow: 0 6px 18px rgba(0,0,0,.55); }

.charName{
  margin: 3.5% 0 0;
  margin-left: 10%;
  font-weight: 700;
  letter-spacing: .08em;
  font-size: clamp(22px, 2.0vw, 34px);
  color: rgba(223,230,241,.92);
}
.charNameSub{
  display:block;
  margin-top: 6px;
  font-family: var(--mono);
  font-size: clamp(10px, 1.0vw, 12px);
  letter-spacing: .28em;
  color: rgba(223,230,241,.38);
}

/* 絆 */
.bond{
  margin-top: 3%;
  margin-left: 10%;
  width: 76%;
}
.bondRow{
  display:grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items:center;
  font-family: var(--mono);
  color: rgba(223,230,241,.56);
  letter-spacing:.12em;
  font-size: clamp(10px, 1.0vw, 12px);
}
.bondBar{
  height: 10px;
  border-radius: 999px;
  background: rgba(223,230,241,.10);
  border: 1px solid rgba(223,230,241,.10);
  overflow:hidden;
}
.bondFill{
  height:100%;
  background: linear-gradient(90deg, rgba(200,110,70,.78), rgba(215,180,106,.78));
}
.bondPct{ opacity:.9; }

/* ロール */
.roles{
  margin-top: 4%;
  margin-left: 10%;
  color: rgba(223,230,241,.48);
  font-size: clamp(12px, 1.1vw, 16px);
  letter-spacing:.08em;
}
.roles .dot{ opacity:.35; padding: 0 .5em; }

/* セクションタイトル */
.sectionTitle{
  margin-top: 6%;
  margin-left: 10%;
  width: 78%;
  text-align:left;
  border: none;
  background: transparent;
  color: rgba(223,230,241,.58);
  letter-spacing:.08em;
  font-size: clamp(12px, 1.2vw, 18px);
  padding: 10px 0 8px;
  border-bottom: 1px solid rgba(223,230,241,.10);
}
.sectionTitle .chev{ float:right; opacity:.6; }

/* ---------- ★個人ステータスの背景グレー四角（ここが新） ---------- */
.statsPanel{
  margin-top: 2.8%;
  margin-left: 10%;
  width: 78%;
  position:relative;
  padding: 10px 10px 8px;
}

/* “しれっとあるグレーの四角”を疑似要素で生成 */
.statsPanel::before{
  content:"";
  position:absolute;
  inset: 6px 2px 6px 2px;
  background:
    /* 角ばったグレー矩形の重なりを作る */
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)),
    repeating-linear-gradient(90deg, rgba(255,255,255,.04) 0 1px, transparent 1px 18px);
  border: 1px solid rgba(223,230,241,.10);
  box-shadow:
    inset 0 0 0 1px rgba(0,0,0,.25),
    0 10px 26px rgba(0,0,0,.18);
  opacity:.35;
  filter: blur(.0px);
  pointer-events:none;
}

/* さらに奥に、薄いブロックを“段差”として足す */
.statsPanel::after{
  content:"";
  position:absolute;
  left: 18px;
  right: 18px;
  top: 10px;
  bottom: 10px;
  background:
    linear-gradient(90deg, rgba(255,255,255,.05), transparent 30%, rgba(255,255,255,.03));
  opacity:.22;
  pointer-events:none;
}

/* ステータス：2列レイアウト */
.statGrid{
  position:relative; /* 疑似要素より前に出す */
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px 24px;
  padding: 4px 8px;
}

/* 1行 */
.statItem{
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  gap: 10px;
  min-height: 22px;
  color: rgba(223,230,241,.72);
}

/* 3段目を横一杯に */
.statItem.span2{
  grid-column: 1 / -1;
  max-width: 56%;
}

/* ラベル側 */
.statItem .k{
  display:flex;
  align-items:center;
  gap: 8px;
  letter-spacing:.04em;
  font-size: clamp(12px, 1.1vw, 16px);
  color: rgba(223,230,241,.60);
}

/* 値側 */
.statItem .v{
  font-family: var(--mono);
  letter-spacing:.12em;
  font-size: clamp(12px, 1.15vw, 16px);
  color: rgba(223,230,241,.84);
}

/* ステアイコン（雰囲気） */
.sIcon{
  width: 10px; height: 10px;
  border-radius: 3px;
  border:1px solid rgba(223,230,241,.18);
  background: rgba(223,230,241,.06);
  display:inline-block;
}
.sIcon.hp{ border-radius:999px; background: rgba(215,180,106,.10); }
.sIcon.atk{ background: rgba(200,110,70,.12); }
.sIcon.rdef{ background: rgba(120,170,210,.10); }
.sIcon.mdef{ background: rgba(160,120,210,.10); }
.sIcon.crit{ background: rgba(223,230,241,.08); }

/* 左下のドット群 */
.leftDots{
  position:absolute;
  left: 10%;
  bottom: 10%;
  width: 92px; height: 24px;
  opacity:.32;
  background:
    radial-gradient(circle, rgba(215,180,106,.9) 2px, transparent 3px) 0 0/12px 12px,
    radial-gradient(circle, rgba(223,230,241,.7) 2px, transparent 3px) 6px 6px/12px 12px;
  filter: blur(.2px);
}

/* ---------- 中央：立ち絵 ---------- */
.portraitWrap{
  width: 100%;
  height: 100%;
  display:grid;
  place-items:end center;
  padding-bottom: 4%;
}
.portrait{
  height: 88%;
  width:auto;
  max-width: 100%;
  object-fit: contain;
  filter: drop-shadow(0 18px 26px rgba(0,0,0,.55));
}

/* 円弧ライン・スパーク */
.orbit{
  position:absolute;
  width: 46%;
  aspect-ratio: 1/1;
  border-radius: 999px;
  border: 1px solid rgba(215,180,106,.18);
  left: 48%;
  top: 47%;
  transform: translate(-50%,-50%);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
}
.orbit::after{
  content:"";
  position:absolute; inset:-8%;
  border-radius:999px;
  border: 1px solid rgba(223,230,241,.10);
  clip-path: polygon(0 0, 100% 0, 100% 60%, 0 60%);
  opacity:.7;
}
.spark{
  position:absolute;
  width: 1.6vw; height: 1.6vw;
  min-width: 16px; min-height: 16px;
  border: 1px solid rgba(215,180,106,.45);
  transform: rotate(45deg);
  opacity:.50;
}
.spark.s1{ left: 56%; top: 33%; }
.spark.s2{ left: 62%; top: 38%; width: 1.0vw; height:1.0vw; opacity:.40; }

/* ---------- 右側（前とほぼ同じ） ---------- */
.rightTop{
  margin-top: 12%;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}
.box{
  position:relative;
  border: 1px solid rgba(223,230,241,.18);
  background: linear-gradient(180deg, rgba(245,240,230,.88), rgba(245,240,230,.78));
  color: #2b2b2b;
  padding: 12px 44px 12px 14px;
  height: 64px;
  box-shadow: 0 10px 18px rgba(0,0,0,.22);
}
.box::before{
  content:"";
  position:absolute; right:0; top:0; bottom:0;
  width: 34%;
  background: linear-gradient(180deg, rgba(200,110,70,.92), rgba(200,110,70,.70));
  opacity:.95;
}
.boxTitle{ font-size: 13px; letter-spacing:.08em; opacity:.9; }
.boxValue{
  margin-top: 6px;
  font-family: var(--mono);
  letter-spacing:.12em;
  font-size: 16px;
}
.boxValue .muted{ opacity:.55; margin-left: 4px; }
.plus{
  position:absolute; right: 10px; top: 50%;
  transform: translateY(-50%);
  z-index:2;
  width: 26px; height:26px;
  border:none;
  background: transparent;
  color: #1d1d1d;
  font-size: 22px;
  line-height: 1;
  cursor:pointer;
  opacity:.85;
}
.plus:hover{ opacity:1; }

.insight .boxValue{ display:flex; align-items:center; height: 26px; }
.insIcon{
  width: 26px; height: 26px;
  border: 2px solid rgba(200,110,70,.65);
  transform: rotate(45deg);
  display:inline-block;
  background: rgba(255,255,255,.25);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.08);
}

.skillBar{
  margin-top: 14px;
  border: 1px solid rgba(223,230,241,.14);
  background: rgba(10,12,16,.28);
  padding: 10px 12px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
}
.skillName{
  color: rgba(223,230,241,.70);
  letter-spacing:.06em;
  font-size: 14px;
}
.triMarks{ display:flex; gap: 10px; opacity:.6; }
.triMarks .t{
  width: 14px; height:14px;
  border: 1px solid rgba(223,230,241,.55);
  clip-path: polygon(50% 0, 0 100%, 100% 100%);
}

.cards{
  margin-top: 12px;
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  align-items:end;
}
.card{
  width:100%;
  height:auto;
  border: 1px solid rgba(223,230,241,.14);
  background: rgba(0,0,0,.12);
  box-shadow: 0 10px 20px rgba(0,0,0,.35);
}

.favorite{
  margin-top: 18px;
  display:flex;
  align-items:center;
  gap: 12px;
  color: rgba(223,230,241,.52);
}
.favLabel{ font-size: 12px; line-height:1.2; letter-spacing:.08em; }
.favBadge{
  margin-left:auto;
  font-family: var(--mono);
  letter-spacing:.12em;
  opacity:.85;
}
.favGem{
  width: 56px; height: 36px;
  background: radial-gradient(circle at 30% 30%, rgba(80,255,150,.35), transparent 55%),
              radial-gradient(circle at 70% 60%, rgba(80,255,150,.25), transparent 55%),
              rgba(0,0,0,.18);
  border: 1px solid rgba(80,255,150,.25);
  border-radius: 10px;
  box-shadow: 0 10px 20px rgba(0,0,0,.35);
}

.bottomButtons{
  position:absolute;
  right: 6%;
  bottom: 12%;
  width: 88%;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.bigBtn{
  height: 78px;
  border: 1px solid rgba(223,230,241,.20);
  background: linear-gradient(180deg, rgba(245,240,230,.88), rgba(245,240,230,.78));
  color: #262626;
  font-size: 18px;
  letter-spacing:.18em;
  text-align:left;
  padding: 16px 16px;
  position:relative;
  cursor:pointer;
}
.bigBtn:hover{ filter: brightness(1.03); }
.bigBtn .lv{
  position:absolute;
  right: 14px;
  bottom: 12px;
  font-family: var(--mono);
  letter-spacing:.12em;
  font-size: 12px;
  opacity:.85;
}
.bigBtn .wire{
  position:absolute;
  right: 18px;
  top: 22px;
  width: 34px;
  height: 22px;
  border: 1px solid rgba(0,0,0,.18);
  border-radius: 10px;
  opacity:.5;
}
